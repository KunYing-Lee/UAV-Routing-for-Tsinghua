{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/drone 2/src/components/Map.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n// 修复Leaflet图标问题\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'\n});\nconst Map = ({\n  orders,\n  drones,\n  routes,\n  selectedOrder,\n  locations\n}) => {\n  _s();\n  const mapRef = useRef(null);\n  const mapInstanceRef = useRef(null);\n  const markersRef = useRef({});\n  const droneMarkersRef = useRef({});\n  const routeLinesRef = useRef([]);\n  const locationMarkersRef = useRef({});\n\n  // 清华大学边界坐标\n  const tsinghuaBounds = [[39.99, 116.30],\n  // 西南角\n  [40.02, 116.35] // 东北角\n  ];\n  useEffect(() => {\n    if (!mapRef.current) return;\n\n    // 初始化地图\n    if (!mapInstanceRef.current) {\n      mapInstanceRef.current = L.map(mapRef.current).setView([40.005, 116.325], 16);\n\n      // 添加OpenStreetMap图层\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: '© OpenStreetMap contributors'\n      }).addTo(mapInstanceRef.current);\n\n      // 设置地图边界\n      mapInstanceRef.current.setMaxBounds(tsinghuaBounds);\n      mapInstanceRef.current.setMinZoom(14);\n    }\n    const map = mapInstanceRef.current;\n\n    // 清除现有标记和路线\n    Object.values(markersRef.current).forEach(marker => marker.remove());\n    Object.values(droneMarkersRef.current).forEach(marker => marker.remove());\n    Object.values(locationMarkersRef.current).forEach(marker => marker.remove());\n    routeLinesRef.current.forEach(line => line.remove());\n    markersRef.current = {};\n    droneMarkersRef.current = {};\n    locationMarkersRef.current = {};\n    routeLinesRef.current = [];\n\n    // 绘制地点标记\n    if (locations) {\n      drawLocationMarkers(map, locations);\n    }\n\n    // 绘制航线网络\n    if (routes && routes.routes) {\n      drawRouteNetwork(map, routes);\n    }\n\n    // 绘制订单标记\n    orders.forEach(order => {\n      drawOrderMarkers(map, order);\n    });\n\n    // 绘制无人机\n    drones.forEach(drone => {\n      drawDroneMarker(map, drone);\n    });\n\n    // 绘制选中订单的路线\n    if (selectedOrder) {\n      drawSelectedOrderRoute(map, selectedOrder);\n    }\n  }, [orders, drones, routes, selectedOrder, locations]);\n\n  // 绘制航线网络\n  const drawRouteNetwork = (map, routes) => {\n    const allRoutes = [...routes.routes.canteen_to_dorm, ...routes.routes.gate_to_dorm];\n    allRoutes.forEach((route, index) => {\n      if (route.path && route.path.length > 1) {\n        const pathCoords = route.path.map(coord => [coord[1], coord[0]]);\n        const line = L.polyline(pathCoords, {\n          color: route.height === 100 ? '#3498db' : '#e74c3c',\n          weight: 1,\n          opacity: 0.6,\n          dashArray: '5, 5'\n        }).addTo(map);\n        routeLinesRef.current.push(line);\n      }\n    });\n  };\n\n  // 绘制订单标记\n  const drawOrderMarkers = (map, order) => {\n    const startIcon = L.divIcon({\n      className: 'custom-div-icon',\n      html: `<div style=\"background-color: #2ecc71; width: 20px; height: 20px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);\"></div>`,\n      iconSize: [20, 20],\n      iconAnchor: [10, 10]\n    });\n    const endIcon = L.divIcon({\n      className: 'custom-div-icon',\n      html: `<div style=\"background-color: #e74c3c; width: 20px; height: 20px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);\"></div>`,\n      iconSize: [20, 20],\n      iconAnchor: [10, 10]\n    });\n\n    // 起点标记\n    const startMarker = L.marker([order.startPoint[1], order.startPoint[0]], {\n      icon: startIcon\n    }).addTo(map);\n    startMarker.bindPopup(`\n      <div>\n        <h4>订单起点</h4>\n        <p><strong>订单号:</strong> ${order.orderNumber}</p>\n        <p><strong>状态:</strong> ${getStatusText(order.status)}</p>\n        <p><strong>创建时间:</strong> ${new Date(order.createTime).toLocaleString()}</p>\n      </div>\n    `);\n\n    // 终点标记\n    const endMarker = L.marker([order.endPoint[1], order.endPoint[0]], {\n      icon: endIcon\n    }).addTo(map);\n    endMarker.bindPopup(`\n      <div>\n        <h4>订单终点</h4>\n        <p><strong>订单号:</strong> ${order.orderNumber}</p>\n        <p><strong>状态:</strong> ${getStatusText(order.status)}</p>\n        <p><strong>创建时间:</strong> ${new Date(order.createTime).toLocaleString()}</p>\n      </div>\n    `);\n    markersRef.current[`start_${order.id}`] = startMarker;\n    markersRef.current[`end_${order.id}`] = endMarker;\n  };\n\n  // 绘制无人机标记\n  const drawDroneMarker = (map, drone) => {\n    const droneIcon = L.divIcon({\n      className: 'custom-div-icon',\n      html: `\n        <div style=\"\n          background-color: #f39c12; \n          width: 24px; \n          height: 24px; \n          border-radius: 50%; \n          border: 3px solid white; \n          box-shadow: 0 2px 5px rgba(0,0,0,0.3);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: white;\n          font-weight: bold;\n          font-size: 12px;\n        \">\n          🚁\n        </div>\n      `,\n      iconSize: [24, 24],\n      iconAnchor: [12, 12]\n    });\n    const position = drone.currentPosition || drone.targetPosition;\n    const droneMarker = L.marker([position[1], position[0]], {\n      icon: droneIcon\n    }).addTo(map);\n    droneMarker.bindPopup(`\n      <div>\n        <h4>无人机状态</h4>\n        <p><strong>无人机ID:</strong> ${drone.id}</p>\n        <p><strong>订单ID:</strong> ${drone.orderId}</p>\n        <p><strong>状态:</strong> ${getDroneStatusText(drone.status)}</p>\n        <p><strong>高度:</strong> ${drone.altitude}m</p>\n        <p><strong>速度:</strong> ${drone.speed}m/s</p>\n      </div>\n    `);\n    droneMarkersRef.current[drone.id] = droneMarker;\n\n    // 绘制无人机飞行轨迹\n    if (drone.path && drone.path.length > 1) {\n      const pathCoords = drone.path.map(coord => [coord[1], coord[0]]);\n      const flightPath = L.polyline(pathCoords, {\n        color: '#f39c12',\n        weight: 3,\n        opacity: 0.8,\n        dashArray: '10, 5'\n      }).addTo(map);\n      routeLinesRef.current.push(flightPath);\n    }\n  };\n\n  // 绘制选中订单的路线\n  const drawSelectedOrderRoute = (map, order) => {\n    const drone = drones.find(d => d.orderId === order.id);\n    if (drone && drone.path && drone.path.length > 1) {\n      const pathCoords = drone.path.map(coord => [coord[1], coord[0]]);\n      const selectedRoute = L.polyline(pathCoords, {\n        color: '#9b59b6',\n        weight: 4,\n        opacity: 0.9\n      }).addTo(map);\n      routeLinesRef.current.push(selectedRoute);\n    }\n  };\n\n  // 绘制地点标记\n  const drawLocationMarkers = (map, locations) => {\n    // 绘制校门\n    locations.gates.forEach(gate => {\n      const gateIcon = L.divIcon({\n        className: 'custom-div-icon',\n        html: `<div style=\"background-color: #e67e22; width: 16px; height: 16px; border-radius: 50%; border: 2px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);\"></div>`,\n        iconSize: [16, 16],\n        iconAnchor: [8, 8]\n      });\n      const gateMarker = L.marker([gate.coords[1], gate.coords[0]], {\n        icon: gateIcon\n      }).addTo(map);\n      gateMarker.bindPopup(`\n        <div>\n          <h4>🚪 ${gate.name}</h4>\n          <p><strong>类型:</strong> 校门</p>\n        </div>\n      `);\n      locationMarkersRef.current[`gate_${gate.id}`] = gateMarker;\n    });\n\n    // 绘制食堂\n    locations.canteens.forEach(canteen => {\n      const canteenIcon = L.divIcon({\n        className: 'custom-div-icon',\n        html: `<div style=\"background-color: #f39c12; width: 16px; height: 16px; border-radius: 50%; border: 2px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);\"></div>`,\n        iconSize: [16, 16],\n        iconAnchor: [8, 8]\n      });\n      const canteenMarker = L.marker([canteen.coords[1], canteen.coords[0]], {\n        icon: canteenIcon\n      }).addTo(map);\n      canteenMarker.bindPopup(`\n        <div>\n          <h4>🍽️ ${canteen.name}</h4>\n          <p><strong>类型:</strong> 食堂</p>\n        </div>\n      `);\n      locationMarkersRef.current[`canteen_${canteen.id}`] = canteenMarker;\n    });\n\n    // 绘制宿舍\n    locations.dorms.forEach(dorm => {\n      const dormIcon = L.divIcon({\n        className: 'custom-div-icon',\n        html: `<div style=\"background-color: #3498db; width: 16px; height: 16px; border-radius: 50%; border: 2px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);\"></div>`,\n        iconSize: [16, 16],\n        iconAnchor: [8, 8]\n      });\n      const dormMarker = L.marker([dorm.coords[1], dorm.coords[0]], {\n        icon: dormIcon\n      }).addTo(map);\n      dormMarker.bindPopup(`\n        <div>\n          <h4>🏠 ${dorm.name}</h4>\n          <p><strong>类型:</strong> 宿舍</p>\n        </div>\n      `);\n      locationMarkersRef.current[`dorm_${dorm.id}`] = dormMarker;\n    });\n  };\n\n  // 获取状态文本\n  const getStatusText = status => {\n    const statusMap = {\n      'pending': '待分配',\n      'assigned': '已分配',\n      'delivering': '配送中',\n      'completed': '已完成'\n    };\n    return statusMap[status] || status;\n  };\n\n  // 获取无人机状态文本\n  const getDroneStatusText = status => {\n    const statusMap = {\n      'assigned': '已分配',\n      'delivering': '飞行中',\n      'completed': '已完成'\n    };\n    return statusMap[status] || status;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: mapRef,\n    style: {\n      width: '100%',\n      height: '100%',\n      zIndex: 1\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 318,\n    columnNumber: 5\n  }, this);\n};\n_s(Map, \"PD23EOI2HNoCzXXv4Wu6j8WoZFA=\");\n_c = Map;\nexport default Map;\nvar _c;\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"names":["React","useEffect","useRef","L","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","Map","orders","drones","routes","selectedOrder","locations","_s","mapRef","mapInstanceRef","markersRef","droneMarkersRef","routeLinesRef","locationMarkersRef","tsinghuaBounds","current","map","setView","tileLayer","attribution","addTo","setMaxBounds","setMinZoom","Object","values","forEach","marker","remove","line","drawLocationMarkers","drawRouteNetwork","order","drawOrderMarkers","drone","drawDroneMarker","drawSelectedOrderRoute","allRoutes","canteen_to_dorm","gate_to_dorm","route","index","path","length","pathCoords","coord","polyline","color","height","weight","opacity","dashArray","push","startIcon","divIcon","className","html","iconSize","iconAnchor","endIcon","startMarker","startPoint","icon","bindPopup","orderNumber","getStatusText","status","Date","createTime","toLocaleString","endMarker","endPoint","id","droneIcon","position","currentPosition","targetPosition","droneMarker","orderId","getDroneStatusText","altitude","speed","flightPath","find","d","selectedRoute","gates","gate","gateIcon","gateMarker","coords","name","canteens","canteen","canteenIcon","canteenMarker","dorms","dorm","dormIcon","dormMarker","statusMap","ref","style","width","zIndex","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/mac/Desktop/drone 2/src/components/Map.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n// 修复Leaflet图标问题\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n});\n\nconst Map = ({ orders, drones, routes, selectedOrder, locations }) => {\n  const mapRef = useRef(null);\n  const mapInstanceRef = useRef(null);\n  const markersRef = useRef({});\n  const droneMarkersRef = useRef({});\n  const routeLinesRef = useRef([]);\n  const locationMarkersRef = useRef({});\n\n  // 清华大学边界坐标\n  const tsinghuaBounds = [\n    [39.99, 116.30], // 西南角\n    [40.02, 116.35]  // 东北角\n  ];\n\n  useEffect(() => {\n    if (!mapRef.current) return;\n\n    // 初始化地图\n    if (!mapInstanceRef.current) {\n      mapInstanceRef.current = L.map(mapRef.current).setView([40.005, 116.325], 16);\n      \n      // 添加OpenStreetMap图层\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: '© OpenStreetMap contributors'\n      }).addTo(mapInstanceRef.current);\n\n      // 设置地图边界\n      mapInstanceRef.current.setMaxBounds(tsinghuaBounds);\n      mapInstanceRef.current.setMinZoom(14);\n    }\n\n    const map = mapInstanceRef.current;\n\n    // 清除现有标记和路线\n    Object.values(markersRef.current).forEach(marker => marker.remove());\n    Object.values(droneMarkersRef.current).forEach(marker => marker.remove());\n    Object.values(locationMarkersRef.current).forEach(marker => marker.remove());\n    routeLinesRef.current.forEach(line => line.remove());\n    \n    markersRef.current = {};\n    droneMarkersRef.current = {};\n    locationMarkersRef.current = {};\n    routeLinesRef.current = [];\n\n    // 绘制地点标记\n    if (locations) {\n      drawLocationMarkers(map, locations);\n    }\n\n    // 绘制航线网络\n    if (routes && routes.routes) {\n      drawRouteNetwork(map, routes);\n    }\n\n    // 绘制订单标记\n    orders.forEach(order => {\n      drawOrderMarkers(map, order);\n    });\n\n    // 绘制无人机\n    drones.forEach(drone => {\n      drawDroneMarker(map, drone);\n    });\n\n    // 绘制选中订单的路线\n    if (selectedOrder) {\n      drawSelectedOrderRoute(map, selectedOrder);\n    }\n\n  }, [orders, drones, routes, selectedOrder, locations]);\n\n  // 绘制航线网络\n  const drawRouteNetwork = (map, routes) => {\n    const allRoutes = [...routes.routes.canteen_to_dorm, ...routes.routes.gate_to_dorm];\n    \n    allRoutes.forEach((route, index) => {\n      if (route.path && route.path.length > 1) {\n        const pathCoords = route.path.map(coord => [coord[1], coord[0]]);\n        const line = L.polyline(pathCoords, {\n          color: route.height === 100 ? '#3498db' : '#e74c3c',\n          weight: 1,\n          opacity: 0.6,\n          dashArray: '5, 5'\n        }).addTo(map);\n        \n        routeLinesRef.current.push(line);\n      }\n    });\n  };\n\n  // 绘制订单标记\n  const drawOrderMarkers = (map, order) => {\n    const startIcon = L.divIcon({\n      className: 'custom-div-icon',\n      html: `<div style=\"background-color: #2ecc71; width: 20px; height: 20px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);\"></div>`,\n      iconSize: [20, 20],\n      iconAnchor: [10, 10]\n    });\n\n    const endIcon = L.divIcon({\n      className: 'custom-div-icon',\n      html: `<div style=\"background-color: #e74c3c; width: 20px; height: 20px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);\"></div>`,\n      iconSize: [20, 20],\n      iconAnchor: [10, 10]\n    });\n\n    // 起点标记\n    const startMarker = L.marker([order.startPoint[1], order.startPoint[0]], {\n      icon: startIcon\n    }).addTo(map);\n    \n    startMarker.bindPopup(`\n      <div>\n        <h4>订单起点</h4>\n        <p><strong>订单号:</strong> ${order.orderNumber}</p>\n        <p><strong>状态:</strong> ${getStatusText(order.status)}</p>\n        <p><strong>创建时间:</strong> ${new Date(order.createTime).toLocaleString()}</p>\n      </div>\n    `);\n\n    // 终点标记\n    const endMarker = L.marker([order.endPoint[1], order.endPoint[0]], {\n      icon: endIcon\n    }).addTo(map);\n    \n    endMarker.bindPopup(`\n      <div>\n        <h4>订单终点</h4>\n        <p><strong>订单号:</strong> ${order.orderNumber}</p>\n        <p><strong>状态:</strong> ${getStatusText(order.status)}</p>\n        <p><strong>创建时间:</strong> ${new Date(order.createTime).toLocaleString()}</p>\n      </div>\n    `);\n\n    markersRef.current[`start_${order.id}`] = startMarker;\n    markersRef.current[`end_${order.id}`] = endMarker;\n  };\n\n  // 绘制无人机标记\n  const drawDroneMarker = (map, drone) => {\n    const droneIcon = L.divIcon({\n      className: 'custom-div-icon',\n      html: `\n        <div style=\"\n          background-color: #f39c12; \n          width: 24px; \n          height: 24px; \n          border-radius: 50%; \n          border: 3px solid white; \n          box-shadow: 0 2px 5px rgba(0,0,0,0.3);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: white;\n          font-weight: bold;\n          font-size: 12px;\n        \">\n          🚁\n        </div>\n      `,\n      iconSize: [24, 24],\n      iconAnchor: [12, 12]\n    });\n\n    const position = drone.currentPosition || drone.targetPosition;\n    const droneMarker = L.marker([position[1], position[0]], {\n      icon: droneIcon\n    }).addTo(map);\n\n    droneMarker.bindPopup(`\n      <div>\n        <h4>无人机状态</h4>\n        <p><strong>无人机ID:</strong> ${drone.id}</p>\n        <p><strong>订单ID:</strong> ${drone.orderId}</p>\n        <p><strong>状态:</strong> ${getDroneStatusText(drone.status)}</p>\n        <p><strong>高度:</strong> ${drone.altitude}m</p>\n        <p><strong>速度:</strong> ${drone.speed}m/s</p>\n      </div>\n    `);\n\n    droneMarkersRef.current[drone.id] = droneMarker;\n\n    // 绘制无人机飞行轨迹\n    if (drone.path && drone.path.length > 1) {\n      const pathCoords = drone.path.map(coord => [coord[1], coord[0]]);\n      const flightPath = L.polyline(pathCoords, {\n        color: '#f39c12',\n        weight: 3,\n        opacity: 0.8,\n        dashArray: '10, 5'\n      }).addTo(map);\n      \n      routeLinesRef.current.push(flightPath);\n    }\n  };\n\n  // 绘制选中订单的路线\n  const drawSelectedOrderRoute = (map, order) => {\n    const drone = drones.find(d => d.orderId === order.id);\n    if (drone && drone.path && drone.path.length > 1) {\n      const pathCoords = drone.path.map(coord => [coord[1], coord[0]]);\n      const selectedRoute = L.polyline(pathCoords, {\n        color: '#9b59b6',\n        weight: 4,\n        opacity: 0.9\n      }).addTo(map);\n      \n      routeLinesRef.current.push(selectedRoute);\n    }\n  };\n\n  // 绘制地点标记\n  const drawLocationMarkers = (map, locations) => {\n    // 绘制校门\n    locations.gates.forEach(gate => {\n      const gateIcon = L.divIcon({\n        className: 'custom-div-icon',\n        html: `<div style=\"background-color: #e67e22; width: 16px; height: 16px; border-radius: 50%; border: 2px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);\"></div>`,\n        iconSize: [16, 16],\n        iconAnchor: [8, 8]\n      });\n\n      const gateMarker = L.marker([gate.coords[1], gate.coords[0]], {\n        icon: gateIcon\n      }).addTo(map);\n      \n      gateMarker.bindPopup(`\n        <div>\n          <h4>🚪 ${gate.name}</h4>\n          <p><strong>类型:</strong> 校门</p>\n        </div>\n      `);\n\n      locationMarkersRef.current[`gate_${gate.id}`] = gateMarker;\n    });\n\n    // 绘制食堂\n    locations.canteens.forEach(canteen => {\n      const canteenIcon = L.divIcon({\n        className: 'custom-div-icon',\n        html: `<div style=\"background-color: #f39c12; width: 16px; height: 16px; border-radius: 50%; border: 2px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);\"></div>`,\n        iconSize: [16, 16],\n        iconAnchor: [8, 8]\n      });\n\n      const canteenMarker = L.marker([canteen.coords[1], canteen.coords[0]], {\n        icon: canteenIcon\n      }).addTo(map);\n      \n      canteenMarker.bindPopup(`\n        <div>\n          <h4>🍽️ ${canteen.name}</h4>\n          <p><strong>类型:</strong> 食堂</p>\n        </div>\n      `);\n\n      locationMarkersRef.current[`canteen_${canteen.id}`] = canteenMarker;\n    });\n\n    // 绘制宿舍\n    locations.dorms.forEach(dorm => {\n      const dormIcon = L.divIcon({\n        className: 'custom-div-icon',\n        html: `<div style=\"background-color: #3498db; width: 16px; height: 16px; border-radius: 50%; border: 2px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);\"></div>`,\n        iconSize: [16, 16],\n        iconAnchor: [8, 8]\n      });\n\n      const dormMarker = L.marker([dorm.coords[1], dorm.coords[0]], {\n        icon: dormIcon\n      }).addTo(map);\n      \n      dormMarker.bindPopup(`\n        <div>\n          <h4>🏠 ${dorm.name}</h4>\n          <p><strong>类型:</strong> 宿舍</p>\n        </div>\n      `);\n\n      locationMarkersRef.current[`dorm_${dorm.id}`] = dormMarker;\n    });\n  };\n\n  // 获取状态文本\n  const getStatusText = (status) => {\n    const statusMap = {\n      'pending': '待分配',\n      'assigned': '已分配',\n      'delivering': '配送中',\n      'completed': '已完成'\n    };\n    return statusMap[status] || status;\n  };\n\n  // 获取无人机状态文本\n  const getDroneStatusText = (status) => {\n    const statusMap = {\n      'assigned': '已分配',\n      'delivering': '飞行中',\n      'completed': '已完成'\n    };\n    return statusMap[status] || status;\n  };\n\n  return (\n    <div \n      ref={mapRef} \n      style={{ \n        width: '100%', \n        height: '100%',\n        zIndex: 1\n      }} \n    />\n  );\n};\n\nexport default Map; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}